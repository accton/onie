# Accton as7512_32x ONIE installer configuration

description="Accton, as7512_32x"

# Default ONIE block device
install_device_platform()
{
    mass_dev=/dev/sdz
    mass_bus="target4:0:0"
    for i in a b c d e ; do
        if $(ls -l /sys/block/sd$i 2>/dev/null | grep -q "$mass_bus") ; then
            mass_dev=/dev/sd$i
            break
        fi
    done
    [ "$mass_dev" == "/dev/sdz" ] && {
        mass_bus="1-1.4:1.0"
        for i in a b c d e ; do
            if $(ls -l /sys/block/sd$i 2>/dev/null | grep -q "$mass_bus") ; then
                mass_dev=/dev/sd$i
                break
            fi
        done
    }
    echo $mass_dev
}

# Local Variables:
# mode: shell-script
# eval: (sh-set-shell "/bin/sh" t nil)
# End:
